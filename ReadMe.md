# RAG-Power Survey Analysis

## Overview

RAG-Power Survey Analysis is an application that leverages Retrieval-Augmented Generation (RAG) to analyze and compare market research reports from multiple PDFs. The backend is built using FastAPI, while the frontend is developed with Streamlit. The system extracts text from PDFs (with OCR fallback), chunks the text, creates vector embeddings, and uses AI-powered models (via HuggingFace endpoints) to answer questions and compare reports—all while displaying source references for transparency.

## Features

- **PDF Upload & Processing:**  
  Upload multiple PDFs. The system extracts text from each page (using PyPDF2 and OCR as needed), and splits the text into manageable chunks.

- **AI-Powered Q&A:**  
  Ask questions and receive answers generated by AI models, with source citations that reference the original PDFs and pages.

- **Report Comparison:**  
  Compare two market research reports side-by-side, with individual summaries and a combined analysis highlighting similarities, differences, and key insights.

- **Enhanced Frontend UX:**  
  A clean, modern UI built with Streamlit, featuring custom CSS using HEX colors `#e14ed2` and `#3edbda`, loading spinners, and intuitive error messages.

- **Secure API Key Management:**  
  Sensitive API keys are loaded from environment variables (using python-dotenv), keeping them out of the source code.

## Technologies Used

- **Backend:** Python, FastAPI, Uvicorn
- **Frontend:** Streamlit
- **AI/NLP:** Langchain, HuggingFace endpoints, FAISS, PyPDF2, pdf2image, pytesseract
- **Deployment:** Docker, Docker Compose (optional), Heroku/Render (optional)
- **Environment Management:** python-dotenv

## Project Structure
```plaintext
RAG-Powered-Survey-Analysis/
├── backend/
│   ├── __pycache__/
│   ├── Llama3.py
│   ├── Mixtral.py
│   ├── Ph.py
│   ├── Vectorstore.py
│   └── client.py
├── uploaded_pdfs/
│   ├── 2023-conocophillips-aim-presentation.pdf  
│   └── 2024-conocophillips-proxy-statement.pdf  
├── .env
├── .gitignore
├── Procfile.front
├── Procfile.web
├── ReadMe.md
├── render.yaml
├── requirements_frontend.txt
└── requirements.txt 
```

## Setup and Installation

1. **Clone the Repository:**
   ```bash
   git clone https://github.com/AayushGala-git/RAG-Powered-Survey-Analysis.git
   cd RAG-Powered-Survey-Analysis
   ```
2. **Install Dependencies:**  
   	•	For the backend and frontend:
   ```bash
   pip install -r requirements.txt
   ```
3.	**Environment Variables:**  
    Create a .env file in the root directory and add your sensitive API keys and configurations. For example:
  	```bash
    HUGGINGFACEHUB_API_TOKEN=your_huggingface_api_token
    BACKEND_URL=http://127.0.0.1:8000
    ```
4.	**Running Locally:** 
	•	Backend:  
  Start your FastAPI backend (from the project root):
 ```bash
 uvicorn backend.api:app --reload --host 0.0.0.0 --port 8000
 ```
  •	Frontend:  
  Run your Streamlit app:  
  ```bash
  streamlit run frontend/client.py
  ```

## Usage

- **PDF Upload & Processing:**  
  Use the Streamlit UI to upload PDFs. The backend will extract text (using OCR if necessary), chunk the text, and create vector embeddings.

- **Ask Questions:**  
  Type a question in the provided input field. The backend uses AI models to generate answers and provide sources, which are displayed in the UI.

- **Compare Reports:**  
  Select two PDFs to compare, and the system will generate individual summaries and a combined comparison highlighting similarities and differences.

## Deployment

The project is deployed using Render.
- **Live Application:** [https://rag-survey-analysis-frontend.onrender.com/](https://rag-survey-analysis-frontend.onrender.com/)
- The Render deployment automates builds from the GitHub repository and serves both the backend and the frontend, ensuring a seamless full-stack experience.

## Additional Information

- **Error Handling & Loading States:**  
  The application includes error handling and loading indicators to improve user experience.
- **Testing & Best Practices:**  
  Code is structured for readability and maintainability, with unit and integration tests for core functionalities (if applicable).

  ## Troubleshooting

- **Local Testing Issues:**
  - Verify that your `.env` file is set up correctly.
  - Ensure that your dependencies in `requirements.txt` and `requirements_client.txt` are up-to-date.
  - Check for any error messages in the terminal when running the backend or frontend.

- **API Errors:**
  - If you encounter errors like 403 or 404, verify that your API endpoints in `backend/api.py` are correctly defined and that your Streamlit app is using the correct `BACKEND_URL`.

- **File Storage:**
  - Note that the `uploaded_pdfs` folder is used for temporary storage. In a production environment, consider using external storage (like AWS S3 or Google Cloud Storage) to persist files.
 
